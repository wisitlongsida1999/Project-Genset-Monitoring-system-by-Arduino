long dataMap[] = { 190556, 183413, 175674, 167646, 159564, 151597, 143862, 136436, 129364, 122667, 116351, 110409, 104827, 99584, 94660, 90032, 85677, 81574, 77703, 74044, 70581, 67298, 64183, 64223, 61223, 58408, 55728, 53176, 50745, 48429, 46222, 44120, 42118, 40212, 38398, 36674, 35036, 33480, 32003, 30602, 29275, 28017, 26825, 25697, 24629, 23617, 22659, 21752, 20891, 20074, 19298, 18560, 18481, 18148, 17631, 16991, 16279, 15535, 14786, 13353, 12690,12068, 11490, 10953, 10458, 10000, 9576, 9183, 8818, 8478, 8160, 7860, 7578, 7310, 7056, 6813, 6580, 6357, 6141, 5934, 5734, 5400, 5353, 5172, 4997, 4828, 4665, 4507, 4354, 4207, 4065, 3927, 3793, 3663, 3537, 3414, 3175, 3057, 2941, 2825, 2776, 2717, 2652, 2781, 2507, 2431, 2355, 2280,2206, 2165, 2066, 2000, 1937, 1878, 1822, 1769, 1719, 1672, 1628, 1586, 1545, 1507, 1470, 1435, 1400, 1366, 1333, 1300, 1268, 1236, 1203,1171, 1390,1106, 1074, 1042, 1010, 978, 948, 918, 888, 861 };

#define pin A3
#define R2 10000.0
#define Vref 5.0

void setup() {
  Serial.begin(9600);
}

void loop() {
  float Vo = analogRead(pin) * 5.0 / 1023.0;
  long R1 = (Vref * R2 / Vo) - R2;
  int temp = 255;
  for (int i=0;i<141;i++) {
    if (dataMap[i] < R1 && R1 >= dataMap[i+1]) {
      temp = -44 + i;
      break;
    }
  }
  Serial.print(R1);
  Serial.print("Ohm\t");
  Serial.print(temp);
  Serial.print("*C");
  Serial.println();
  delay(500);
}
